/*
 zoddjs v0.0.2 - a tiny loading bar for modernizr/yepnope
 copyright 2014 kevin von flotow - vonflow@gmail.com
 https://github.com/kvonflotow/zoddjs
 MIT license
*/
(function(c,k){function d(a,b){for(var e in b)a.style[e]=b[e]}function h(){var a=arguments;1===a.length&&n(a[0])&&(a=a[0]);var b=a[0]||[];if(2<=a.length)for(var e=1,c=a.length;e<c;e+=1)if("undefined"!==typeof a[e])for(var f in a[e])"undefined"!==typeof f&&(b[f]=a[e][f]);return b}function l(a,b){this.arr=a||[];this.opts=b||{};this.setDefaultOpts();this.loaderModal=g.createElement("div");this.loadingBar=g.createElement("div");this.loaded=this.loadPercent=0;this.count=this.arr.length;this.init()}var m=
c.Modernizr&&c.Modernizr.load?c.Modernizr.load:c.yepnope?c.yepnope:k;if(!m)return console.error("zodd: modernizr or yepnope is required");var g=c.document,n=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};l.prototype={setDefaultOpts:function(){this.opts.scrollDuration="undefined"!==typeof this.opts.scrollDuration?this.opts.scrollDuration:0.33;var a=this.opts,b;(b=this.opts.targetElement)||(b=g.getElementsByTagName("body"),b=0!==b.length?b[0]:k);a.targetElement=
b;this.opts.css=this.opts.css||{};this.opts.css.modal=h({"background-color":"rgb( 233, 233, 233 )",position:"fixed",top:"0",bottom:"0",left:"0",right:"0",opacity:"1","-webkit-transition":"opacity 0.5s","-moz-transition":"opacity 0.5s","-o-transition":"opacity 0.5s",transition:"opacity 0.5s"},this.opts.css.modal||{});this.opts.css.loadingBarWrapper=h({position:"absolute",top:"50%",left:"0",right:"0",width:"80%",height:"5px",margin:"auto","border-radius":"2px"},this.opts.css.loadingBarWrapper||{});
this.opts.css.loadingBar=h({"background-color":"rgb( 69, 154, 188 )",width:"0%",height:"100%","border-radius":"2px","-webkit-transition":"width "+this.opts.scrollDuration+"s","-moz-transition":"width "+this.opts.scrollDuration+"s","-o-transition":"width "+this.opts.scrollDuration+"s",transition:"width "+this.opts.scrollDuration+"s"},this.opts.css.loadingBar||{})},init:function(){var a=g.createElement("div");this.count=this.arr.length;d(this.loaderModal,this.opts.css.modal);d(a,this.opts.css.loadingBarWrapper);
this.loadingBar=g.createElement("div");d(this.loadingBar,this.opts.css.loadingBar);a.appendChild(this.loadingBar);this.loaderModal.appendChild(a);this.opts.targetElement.appendChild(this.loaderModal);var b=this;m(function(){for(var a=[],c=0;c<b.count;c+=1){var f=b.arr[c],d={};if("string"===typeof f||f instanceof String)d={load:f};else for(var g in f)d[g]=f[g];var h=d.hasOwnProperty("complete")?d.complete:k;d.complete=function(){h&&h();b.addOneToLoaded.call(b)};a.push(d)}return a}())},addOneToLoaded:function(){this.loadPercent=
100*(this.loaded+=1/this.count)+0.5|0;if(this.loaderModal&&(d(this.loadingBar,{width:this.loadPercent+"%"}),100===this.loadPercent)){this.opts.targetElement.setAttribute("data-loader-loaded",!0);var a=this;setTimeout(function(){d(a.loaderModal,{opacity:"0"});setTimeout(function(){d(a.loaderModal,{display:"none"});a.loaderModal.remove&&a.loaderModal.remove()},500)},250)}}};c.zodd=l})(window,void 0);
